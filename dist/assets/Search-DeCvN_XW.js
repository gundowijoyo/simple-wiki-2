import{_ as g,u as y,f as k,r as u,g as j,h as q,i as S,j as V,o as a,c as l,b as e,k as L,v as T,a as _,w as x,T as I,F as B,l as E,d as f,t as F,m as M,p as N,e as R}from"./index-CxVDAgzQ.js";const r=n=>(N("data-v-6d17b7d0"),n=n(),R(),n),C={class:"col-start-1 row-start-1"},D={role:"search",class:"w-[90%] mx-auto md:w-[70vw]"},A={class:"col-start-1 row-start-1 grid grid-cols-1 grid-rows-1"},H={key:0,class:"w-[90%] min-h-[80vh] mx-auto my-5 flex flex-col justify-evenly col-start-1 gap-2 row-start-1 bg-[hsla(0,0%,8%,0.6)] p-2 backdrop-blur-sm rounded-xl md:w-[70vw]"},U={role:"thumbnail"},K=["src"],$={key:1,class:"w-14 h-10 rounded-md brightness-75 md:w-16 md:h-12",src:M,alt:""},z={role:"article info",class:"w-full h-fit overflow-hidden flex justify-between gap-2"},G={class:"text-[0.76rem] font-bold text-neutral-400 md:text-[1rem]"},J={class:"text-[0.48rem] text-neutral-400 md:text-sm"},O=["innerHTML"],P=r(()=>e("span",null,"...",-1)),Q=r(()=>e("div",{class:"flex items-center"},[e("i",{class:"bi bi-box-arrow-up-right text-xs text-stone-400"})],-1)),W={key:1,class:"w-[90%] h-[80vh] max-h-[50rem] mx-auto my-5 flex flex-col items-center justify-center gap-2 col-start-1 row-start-1 bg-[hsla(0,0%,8%,0.6)] p-2 backdrop-blur-sm rounded-xl md:w-[70vw]"},X=r(()=>e("div",{class:"w-20 aspect-square border-8 border-neutral-300 border-t-transparent animate-spin rounded-full"},null,-1)),Y=[X],Z={key:2,class:"w-[90%] h-[80vh] max-h-[50rem] mx-auto my-5 flex flex-col items-center justify-center col-start-1 row-start-1 bg-[hsla(0,0%,8%,0.6)] p-2 backdrop-blur-sm rounded-xl md:w-[70vw]"},ee=r(()=>e("h1",{class:"mix-blend-difference text-4xl text-neutral-300 font-semibold"}," 404 ",-1)),te=r(()=>e("h1",{class:"mix-blend-difference text-xl text-neutral-300 font-semibold"}," Not Found ",-1)),se=[ee,te],oe={__name:"Search",setup(n){const h=y(),w=k(),m=u([]),c=u(!1),i=u(!0);j(()=>h.query.q,async(o,t)=>{c.value=!1,i.value=!0,p(),console.log("hello watch")}),q(async()=>{p()});async function p(){try{const t=await(await fetch(S+h.query.q)).json();console.log(t),t.query||(i.value=!1),m.value=t.query.pages}catch{}finally{c.value=!0}}function b(o){const t=o.split(" "),d=[];for(let s=0;s<15;s++)d.push(t[s]);return d.join(" ").replace(/<p/g,"<p class='inline'")}function v(){let o=document.getElementById("input-2");o.addEventListener("keyup",t=>{t.key=="Enter"&&o.value.split(" ").join("")!=""&&(w.push({path:"/search",query:{q:o.value}}),console.log(o.value))})}return(o,t)=>{const d=V("RouterLink");return a(),l("div",C,[e("section",D,[L(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.inputValue=s),class:"h-12 w-full text-sm w-full p-4 outline-none rounded-lg bg-[hsl(0,0%,7%)] text-neutral-400 tracking-wide cursor-text border-2 border-[#cbcbcb] shadow-md placeholder-[hsl(0,0%,63.9%)]",type:"text",id:"input-2",autocomplete:"off",onKeyup:t[1]||(t[1]=s=>v()),placeholder:"Search articles here..."},null,544),[[T,o.inputValue]])]),e("div",A,[_(I,null,{default:x(()=>[c.value&&i.value?(a(),l("div",H,[(a(!0),l(B,null,E(m.value,(s,ae)=>(a(),l("section",null,[_(d,{to:"/page/"+s.pageid,class:"flex justify-between items-center gap-3 p-2 rounded-md cursor-pointer bg-[hsl(0,0%,8%)]"},{default:x(()=>[e("section",U,[s.thumbnail?(a(),l("img",{key:0,class:"w-14 h-10 rounded-md brightness-75 md:w-16 md:h-12",src:s.thumbnail.source,alt:"info.title"},null,8,K)):f("",!0),s.thumbnail?f("",!0):(a(),l("img",$))]),e("section",z,[e("div",null,[e("h1",G,F(s.title),1),e("div",J,[e("span",{class:"inline",innerHTML:b(s.extract)},null,8,O),P])]),Q])]),_:2},1032,["to"])]))),256))])):!c.value&&i.value?(a(),l("div",W,Y)):(a(),l("div",Z,se))]),_:1})])])}}},re=g(oe,[["__scopeId","data-v-6d17b7d0"]]);export{re as default};
